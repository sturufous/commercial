<!--
  Generated template for the ExaminationPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <div class="header-title">
      <ion-title>Examination</ion-title>
    </div>
    <div style="float: right">
      <button ion-button icon-only clear>
        <ion-badge item-end secondary>
          {{ sharedData.licenseClass }}
        </ion-badge>
        <ion-icon class="header-badge" name="md-bus"></ion-icon>
      </button>
      <button ion-button icon-only clear>
        <ion-badge item-end [ngClass]="sharedData.badgeColor(sharedData.getTotalDemeritCount())">
          {{ sharedData.getTotalDemeritCount() }}
        </ion-badge>
        <ion-icon name="notifications" class="header-badge"></ion-icon>
      </button>
    </div>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-fab bottom right>
    <button ion-fab (click)="save()" color="primary"><ion-icon name="disc" color="dark" style="font-size:30pt"></ion-icon></button>
  </ion-fab>
  <ion-list class="page-header card-corners">
    <ion-item class="item-trns">
      <ion-avatar item-start>
        <img src="../assets/imgs/truck1.png">
      </ion-avatar>
      <h1>Examination</h1>
    </ion-item>
  </ion-list>

  <div class="spacer" style="width: 748px; height: 7px;"></div>
  
  <ion-list>
    <ion-item>
      <div>
        <ion-grid>
          <ion-row>
            <ion-col col-1>
              <ion-icon name="md-arrow-dropleft-circle"></ion-icon>
            </ion-col>
            <ion-col col-8 class="infraction-link" (click)="presentLeftTurn()">
              LEFT TURN
            </ion-col>
            <ion-col col-3>
              <ion-badge item-end [ngClass]="sharedData.badgeColor(sharedData.leftTurn.length)" (click)="hideDemerits.leftTurn=!hideDemerits.leftTurn">{{ sharedData.getDemeritCount(sharedData.leftTurn) }}</ion-badge>
              <ion-badge item-end [ngClass]="sharedData.badgeColor(sharedData.leftTurn.length)" (click)="hideDemerits.leftTurn=!hideDemerits.leftTurn">{{ sharedData.leftTurn.length }}</ion-badge>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>

      <ion-card [hidden]="hideDemerits.leftTurn || sharedData.leftTurn.length == 0">
          <ion-card-content>
            <ion-list>
              <div class="card-header">
                <ion-grid>
                  <ion-row>
                    <ion-col col-5><ion-icon name="md-list" class="icon-light"></ion-icon>Item</ion-col>
                    <ion-col col-4><ion-icon name="md-time" class="icon-light"></ion-icon>Time</ion-col>
                    <ion-col col-3><ion-icon name="md-sad" class="icon-light"></ion-icon>Demerits</ion-col>
                  </ion-row>
                </ion-grid>
              </div>
              <ion-item-sliding *ngFor="let item of sharedData.leftTurn">
                <ion-item>
                  <ion-grid>
                    <ion-row>
                      <ion-col col-5>{{ item.value }}</ion-col>
                      <ion-col col-4>{{ item.time | date: 'mediumTime' }}</ion-col>
                      <ion-col col-3>{{ item.demerits }} Points</ion-col>
                    </ion-row>
                  </ion-grid>
                </ion-item>
                <ion-item-options side="right">
                    <button ion-button color="danger" (click)="deleteInfraction(item, sharedData.leftTurn)">Delete</button>
                    <button ion-button (click)="presentDemerits(item)">Display</button>
                </ion-item-options>
              </ion-item-sliding>
            </ion-list>
          </ion-card-content>
        </ion-card>
    </ion-item>


    <ion-item>
      <div>
        <ion-grid>
          <ion-row>
            <ion-col col-1>
              <ion-icon name="md-arrow-dropleft-circle"></ion-icon>
            </ion-col>
            <ion-col col-8 class="infraction-link" (click)="presentRightTurn()">
              RIGHT TURN
            </ion-col>
            <ion-col col-3>
              <ion-badge item-end [ngClass]="sharedData.badgeColor(sharedData.rightTurn.length)" (click)="hideDemerits.rightTurn=!hideDemerits.rightTurn">{{ sharedData.getDemeritCount(sharedData.rightTurn) }}</ion-badge>
              <ion-badge item-end [ngClass]="sharedData.badgeColor(sharedData.rightTurn.length)" (click)="hideDemerits.rightTurn=!hideDemerits.rightTurn">{{ sharedData.rightTurn.length }}</ion-badge>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>

      <ion-card [hidden]="hideDemerits.rightTurn || sharedData.rightTurn.length == 0">
        <ion-card-content>
          <ion-list>
            <div class="card-header">
              <ion-grid>
                <ion-row>
                  <ion-col col-5><ion-icon name="md-list" class="icon-light"></ion-icon>Item</ion-col>
                  <ion-col col-4><ion-icon name="md-time" class="icon-light"></ion-icon>Time</ion-col>
                  <ion-col col-3><ion-icon name="md-sad" class="icon-light"></ion-icon>Demerits</ion-col>
                </ion-row>
              </ion-grid>
            </div>
            <ion-item-sliding *ngFor="let item of sharedData.rightTurn">
              <ion-item>
                <ion-grid>
                  <ion-row>
                    <ion-col col-5>{{ item.value }}</ion-col>
                    <ion-col col-4>{{ item.time | date: 'mediumTime' }}</ion-col>
                    <ion-col col-3>{{ item.demerits }} Points</ion-col>
                  </ion-row>
                </ion-grid>
              </ion-item>
              <ion-item-options side="right">
                  <button ion-button color="danger" (click)="deleteInfraction(item, sharedData.rightTurn)">Delete</button>
                  <button ion-button>Display</button>
              </ion-item-options>
            </ion-item-sliding>
          </ion-list>
        </ion-card-content>
      </ion-card>
    </ion-item>

    <ion-item>
      <div>
        <ion-grid>
          <ion-row>
            <ion-col col-1>
              <ion-icon name="md-arrow-dropleft-circle"></ion-icon>
            </ion-col>
            <ion-col col-8 class="infraction-link" (click)="presentRoadPosition()">
              ROAD POSITION
            </ion-col>
            <ion-col col-3>
              <ion-badge item-end [ngClass]="sharedData.badgeColor(sharedData.roadPosition.length)" (click)="hideDemerits.roadPosition=!hideDemerits.roadPosition">{{ sharedData.getDemeritCount(sharedData.roadPosition) }}</ion-badge>
              <ion-badge item-end [ngClass]="sharedData.badgeColor(sharedData.roadPosition.length)" (click)="hideDemerits.roadPosition=!hideDemerits.roadPosition">{{ sharedData.roadPosition.length }}</ion-badge>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>

      <ion-card [hidden]="hideDemerits.roadPosition || sharedData.roadPosition.length == 0">
        <ion-card-content>
          <ion-list>
            <div class="card-header">
                <ion-grid>
                  <ion-row>
                    <ion-col col-5><ion-icon name="md-list" class="icon-light"></ion-icon>Item</ion-col>
                    <ion-col col-4><ion-icon name="md-time" class="icon-light"></ion-icon>Time</ion-col>
                    <ion-col col-3><ion-icon name="md-sad" class="icon-light"></ion-icon>Demerits</ion-col>
                  </ion-row>
                </ion-grid>
              </div>
              <ion-item-sliding *ngFor="let item of sharedData.roadPosition">
              <ion-item>
                <ion-grid>
                  <ion-row>
                    <ion-col col-5>{{ item.value }}</ion-col>
                    <ion-col col-4>{{ item.time | date: 'mediumTime' }}</ion-col>
                    <ion-col col-3>{{ item.demerits }} Points</ion-col>
                  </ion-row>
                </ion-grid>
              </ion-item>
              <ion-item-options side="right">
                  <button ion-button color="danger" (click)="deleteInfraction(item, sharedData.roadPosition)">Delete</button>
                  <button ion-button>Display</button>
              </ion-item-options>
            </ion-item-sliding>
          </ion-list>
        </ion-card-content>
      </ion-card>
    </ion-item>

    <ion-item>
      <div>
        <ion-grid>
          <ion-row>
            <ion-col col-1>
              <ion-icon name="md-arrow-dropleft-circle"></ion-icon>
            </ion-col>
            <ion-col col-8 class="infraction-link" (click)="presentSpeed()">
              SPEED
            </ion-col>
            <ion-col col-3>
              <ion-badge item-end [ngClass]="sharedData.badgeColor(sharedData.speed.length)" (click)="hideDemerits.speed=!hideDemerits.speed">{{ sharedData.getDemeritCount(sharedData.speed) }}</ion-badge>
              <ion-badge item-end [ngClass]="sharedData.badgeColor(sharedData.speed.length)" (click)="hideDemerits.speed=!hideDemerits.speed">{{ sharedData.speed.length }}</ion-badge>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>

      <ion-card [hidden]="hideDemerits.speed || sharedData.speed.length == 0">
        <ion-card-content>
          <ion-list>
            <div class="card-header">
                <ion-grid>
                  <ion-row>
                    <ion-col col-5><ion-icon name="md-list" class="icon-light"></ion-icon>Item</ion-col>
                    <ion-col col-4><ion-icon name="md-time" class="icon-light"></ion-icon>Time</ion-col>
                    <ion-col col-3><ion-icon name="md-sad" class="icon-light"></ion-icon>Demerits</ion-col>
                  </ion-row>
                </ion-grid>
              </div>
              <ion-item-sliding *ngFor="let item of sharedData.speed">
              <ion-item>
                <ion-grid>
                  <ion-row>
                    <ion-col col-5>{{ item.value }}</ion-col>
                    <ion-col col-4>{{ item.time | date: 'mediumTime' }}</ion-col>
                    <ion-col col-3>{{ item.demerits }} Points</ion-col>
                  </ion-row>
                </ion-grid>
              </ion-item>
              <ion-item-options side="right">
                  <button ion-button color="danger" (click)="deleteInfraction(item, sharedData.speed)">Delete</button>
                  <button ion-button>Display</button>
              </ion-item-options>
            </ion-item-sliding>
          </ion-list>
        </ion-card-content>
      </ion-card>    
    </ion-item>

    <ion-item>
      <div>
        <ion-grid>
          <ion-row>
            <ion-col col-1>
              <ion-icon name="md-arrow-dropleft-circle"></ion-icon>
            </ion-col>
            <ion-col col-8 class="infraction-link" (click)="presentBacking()">
              BACKING
            </ion-col>
            <ion-col col-3>
              <ion-badge item-end [ngClass]="sharedData.badgeColor(sharedData.backing.length)" (click)="hideDemerits.backing=!hideDemerits.backing">{{ sharedData.getDemeritCount(sharedData.backing) }}</ion-badge>
              <ion-badge item-end [ngClass]="sharedData.badgeColor(sharedData.backing.length)" (click)="hideDemerits.backing=!hideDemerits.backing">{{ sharedData.backing.length }}</ion-badge>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>

      <ion-card [hidden]="hideDemerits.backing || sharedData.backing.length == 0">
        <ion-card-content>
          <ion-list>
            <div class="card-header">
                <ion-grid>
                  <ion-row>
                    <ion-col col-5><ion-icon name="md-list" class="icon-light"></ion-icon>Item</ion-col>
                    <ion-col col-4><ion-icon name="md-time" class="icon-light"></ion-icon>Time</ion-col>
                    <ion-col col-3><ion-icon name="md-sad" class="icon-light"></ion-icon>Demerits</ion-col>
                  </ion-row>
                </ion-grid>
              </div>
              <ion-item-sliding *ngFor="let item of sharedData.backing">
              <ion-item>
                <ion-grid>
                  <ion-row>
                    <ion-col col-5>{{ item.value }}</ion-col>
                    <ion-col col-4>{{ item.time | date: 'mediumTime' }}</ion-col>
                    <ion-col col-3>{{ item.demerits }} Points</ion-col>
                  </ion-row>
                </ion-grid>
              </ion-item>
              <ion-item-options side="right">
                  <button ion-button color="danger" (click)="deleteInfraction(item, sharedData.backing)">Delete</button>
                  <button ion-button>Display</button>
              </ion-item-options>
            </ion-item-sliding>
          </ion-list>
        </ion-card-content>
      </ion-card>   
    </ion-item>

    <ion-item>
      <div>
        <ion-grid>
          <ion-row>
            <ion-col col-1>
              <ion-icon name="md-arrow-dropleft-circle"></ion-icon>
            </ion-col>
            <ion-col col-8 class="infraction-link" (click)="presentShifting()">
              SHIFTING
            </ion-col>
            <ion-col col-3>
              <ion-badge item-end [ngClass]="sharedData.badgeColor(sharedData.shifting.length)" (click)="hideDemerits.shifting=!hideDemerits.shifting">{{ sharedData.getDemeritCount(sharedData.shifting) }}</ion-badge>
              <ion-badge item-end [ngClass]="sharedData.badgeColor(sharedData.shifting.length)" (click)="hideDemerits.shifting=!hideDemerits.shifting">{{ sharedData.shifting.length }}</ion-badge>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>

      <ion-card [hidden]="hideDemerits.shifting || sharedData.shifting.length == 0">
        <ion-card-content>
          <ion-list>
            <div class="card-header">
                <ion-grid>
                  <ion-row>
                    <ion-col col-5><ion-icon name="md-list" class="icon-light"></ion-icon>Item</ion-col>
                    <ion-col col-4><ion-icon name="md-time" class="icon-light"></ion-icon>Time</ion-col>
                    <ion-col col-3><ion-icon name="md-sad" class="icon-light"></ion-icon>Demerits</ion-col>
                  </ion-row>
                </ion-grid>
              </div>
              <ion-item-sliding *ngFor="let item of sharedData.shifting">
              <ion-item>
                <ion-grid>
                  <ion-row>
                    <ion-col col-5>{{ item.value }}</ion-col>
                    <ion-col col-4>{{ item.time | date: 'mediumTime' }}</ion-col>
                    <ion-col col-3>{{ item.demerits }} Points</ion-col>
                  </ion-row>
                </ion-grid>
              </ion-item>
              <ion-item-options side="right">
                  <button ion-button color="danger" (click)="deleteInfraction(item, sharedData.shifting)">Delete</button>
                  <button ion-button>Display</button>
              </ion-item-options>
            </ion-item-sliding>
          </ion-list>
        </ion-card-content>
      </ion-card>   
    </ion-item>

    <ion-item>
      <div>
        <ion-grid>
          <ion-row>
            <ion-col col-1>
              <ion-icon name="md-arrow-dropleft-circle"></ion-icon>
            </ion-col>
            <ion-col col-8 class="infraction-link" (click)="presentRightOfWay()">
              RIGHT OF WAY
            </ion-col>
            <ion-col col-3>
              <ion-badge item-end [ngClass]="sharedData.badgeColor(sharedData.rightOfWay.length)" (click)="hideDemerits.rightOfWay=!hideDemerits.rightOfWay">{{ sharedData.getDemeritCount(sharedData.rightOfWay) }}</ion-badge>
              <ion-badge item-end [ngClass]="sharedData.badgeColor(sharedData.rightOfWay.length)" (click)="hideDemerits.rightOfWay=!hideDemerits.rightOfWay">{{ sharedData.rightOfWay.length }}</ion-badge>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>
  
      <ion-card [hidden]="hideDemerits.rightOfWay || sharedData.rightOfWay.length == 0">
        <ion-card-content>
          <ion-list>
              <div class="card-header">
                <ion-grid>
                  <ion-row>
                    <ion-col col-5><ion-icon name="md-list" class="icon-light"></ion-icon>Item</ion-col>
                    <ion-col col-4><ion-icon name="md-time" class="icon-light"></ion-icon>Time</ion-col>
                    <ion-col col-3><ion-icon name="md-sad" class="icon-light"></ion-icon>Demerits</ion-col>
                  </ion-row>
                </ion-grid>
              </div>
              <ion-item-sliding *ngFor="let item of sharedData.rightOfWay">
              <ion-item>
                <ion-grid>
                  <ion-row>
                    <ion-col col-5>{{ item.value }}</ion-col>
                    <ion-col col-4>{{ item.time | date: 'mediumTime' }}</ion-col>
                    <ion-col col-3>{{ item.demerits }} Points</ion-col>
                  </ion-row>
                </ion-grid>
              </ion-item>
              <ion-item-options side="right">
                  <button ion-button color="danger" (click)="deleteInfraction(item, sharedData.rightOfWay)">Delete</button>
                  <button ion-button>Display</button>
              </ion-item-options>
            </ion-item-sliding>
          </ion-list>
        </ion-card-content>
      </ion-card>   
    </ion-item>

    <ion-item>
      <div>
        <ion-grid>
          <ion-row>
            <ion-col col-1>
              <ion-icon name="md-arrow-dropleft-circle"></ion-icon>
            </ion-col>
            <ion-col col-8 class="infraction-link" (click)="presentUncoupling()">
              UNCOUPLING
            </ion-col>
            <ion-col col-3>
              <ion-badge item-end [ngClass]="sharedData.badgeColor(sharedData.uncoupling.length)" (click)="hideDemerits.uncoupling=!hideDemerits.uncoupling">{{ sharedData.getDemeritCount(sharedData.uncoupling) }}</ion-badge>
              <ion-badge item-end [ngClass]="sharedData.badgeColor(sharedData.uncoupling.length)" (click)="hideDemerits.uncoupling=!hideDemerits.uncoupling">{{ sharedData.uncoupling.length }}</ion-badge>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>

      <ion-card [hidden]="hideDemerits.uncoupling || sharedData.uncoupling.length == 0">
        <ion-card-content>
          <ion-list>
            <div class="card-header">
                <ion-grid>
                  <ion-row>
                    <ion-col col-5><ion-icon name="md-list" class="icon-light"></ion-icon>Item</ion-col>
                    <ion-col col-4><ion-icon name="md-time" class="icon-light"></ion-icon>Time</ion-col>
                    <ion-col col-3><ion-icon name="md-sad" class="icon-light"></ion-icon>Demerits</ion-col>
                  </ion-row>
                </ion-grid>
              </div>
              <ion-item-sliding *ngFor="let item of sharedData.uncoupling">
              <ion-item>
                <ion-grid>
                  <ion-row>
                    <ion-col col-5>{{ item.value }}</ion-col>
                    <ion-col col-4>{{ item.time | date: 'mediumTime' }}</ion-col>
                    <ion-col col-3>{{ item.demerits }} Points</ion-col>
                  </ion-row>
                </ion-grid>
              </ion-item>
              <ion-item-options side="right">
                  <button ion-button color="danger" (click)="deleteInfraction(item, sharedData.uncoupling)">Delete</button>
                  <button ion-button>Display</button>
              </ion-item-options>
            </ion-item-sliding>
          </ion-list>
        </ion-card-content>
      </ion-card>   
    </ion-item>

    <ion-item>
      <div>
        <ion-grid>
          <ion-row>
            <ion-col col-1>
              <ion-icon name="md-arrow-dropleft-circle"></ion-icon>
            </ion-col>
            <ion-col col-8 class="infraction-link" (click)="presentCoupling()">
              COUPLING
            </ion-col>
            <ion-col col-3>
              <ion-badge item-end [ngClass]="sharedData.badgeColor(sharedData.coupling.length)" (click)="hideDemerits.coupling=!hideDemerits.coupling">{{ sharedData.getDemeritCount(sharedData.coupling) }}</ion-badge>
              <ion-badge item-end [ngClass]="sharedData.badgeColor(sharedData.coupling.length)" (click)="hideDemerits.coupling=!hideDemerits.coupling">{{ sharedData.coupling.length }}</ion-badge>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>

      <ion-card [hidden]="hideDemerits.coupling || sharedData.coupling.length == 0">
        <ion-card-content>
          <ion-list>
            <div class="card-header">
                <ion-grid>
                  <ion-row>
                    <ion-col col-5><ion-icon name="md-list" class="icon-light"></ion-icon>Item</ion-col>
                    <ion-col col-4><ion-icon name="md-time" class="icon-light"></ion-icon>Time</ion-col>
                    <ion-col col-3><ion-icon name="md-sad" class="icon-light"></ion-icon>Demerits</ion-col>
                  </ion-row>
                </ion-grid>
              </div>
              <ion-item-sliding *ngFor="let item of sharedData.coupling">
              <ion-item>
                <ion-grid>
                  <ion-row>
                    <ion-col col-5>{{ item.value }}</ion-col>
                    <ion-col col-4>{{ item.time | date: 'mediumTime' }}</ion-col>
                    <ion-col col-3>{{ item.demerits }} Points</ion-col>
                  </ion-row>
                </ion-grid>
              </ion-item>
              <ion-item-options side="right">
                  <button ion-button color="danger" (click)="deleteInfraction(item, sharedData.coupling)">Delete</button>
                  <button ion-button >Display</button>
              </ion-item-options>
            </ion-item-sliding>
          </ion-list>
        </ion-card-content>
      </ion-card>   
    </ion-item>
  </ion-list>
</ion-content>
